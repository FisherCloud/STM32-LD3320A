/***************************乐声电子科技有限公司****************************
**  工程名称：YS-V0.4语音识别开发板程序
**	CPU: STM32f103RCT6
**	晶振：8MHZ
**	波特率：9600 bit/S
**	配套产品信息：YS-V0.4语音识别开发板
**                http://yuesheng001.taobao.com
**  作者：zdings
**  联系：751956552@qq.com
**  修改日期：2012.4.11
**  说明：本程序 具备语音识别、串口通信、开发板基本功能演示。
***************************乐声电子科技有限公司******************************/
#include "includes.h"

/* Private function prototypes -----------------------------------------------*/

extern void  LD3320_main(void);
extern void LD3320_Init(void);

/***********************************************************
* 名    称： 主函数
* 功    能：	程序入口
* 入口参数：  无
* 出口参数：	无
* 说    明：	无
* 调用方法： 	无
**********************************************************/
int main(void)
{
    /* System Clocks Configuration */
    SYSTICK_Init();
    delay_ms(50);

    USART1_Config(115200); //USART 配置
    LD3320_Init();
	LED_gpio_cfg();

    {
        FATFS fs;
        SD_CardInfo SDCardInfo;

        /* SD卡接口初始化	 */
        if(SD_Init() == SD_ERROR)
        {
            printf("SD卡接口初始化失败\r\n");
        };

        /* 文件系统FATFS 初始化 */
        disk_initialize(0);

        /* 将SD卡挂载到驱动器0 */
        f_mount(0, &fs);
    }

    printf("基于单片机的智能语音控制系统\r\n");
    printf("初始化完成\r\n");
    printf("口令：\r\n");
    printf("0、流水灯\r\n");
    printf("1、闪烁\r\n");
    printf("2、按键触发\r\n");
    printf("3、全灭\r\n");
    printf("4、开灯\r\n");
    printf("5、关灯\r\n");

    PlayDemoSound_mp3("启动系统.mp3", 5);

    LD3320_main();		   //LD3320执行函数

    NVIC_SystemReset();

}
